"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.appenderExtractor = appenderExtractor;
const utils_1 = require("../../utils");
const composeExtractors2_1 = require("./composeExtractors2");
const isExtractor_1 = require("./isExtractor");
function appenderExtractor(maybeExtractor) {
    if (maybeExtractor == null) {
        return;
    }
    if ((0, isExtractor_1.isExtractor)(maybeExtractor)) {
        return (0, composeExtractors2_1.composeExtractors2)(({ value }) => (0, utils_1.thruMaybePromise)(value, utils_1.asArray), maybeExtractor);
    }
    const value = Array.isArray(maybeExtractor) ? maybeExtractor : [maybeExtractor];
    return (context) => {
        return (0, utils_1.thruMaybePromise)(context.value, (base) => [...base, ...value]);
    };
}
//# sourceMappingURL=appenderExtractor.js.map