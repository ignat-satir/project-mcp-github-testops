"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.onceWithLoopDetection = onceWithLoopDetection;
const logger_1 = require("../logger");
function onceWithLoopDetection(function_) {
    let result;
    let called = false;
    let executed = false;
    return function onceWrapper(...arguments_) {
        if (!called) {
            called = true;
            result = function_.apply(this, arguments_);
            executed = true;
        }
        if (!executed) {
            logger_1.log.warn('Recursive loop detected in: %s', function_);
        }
        return result;
    };
}
//# sourceMappingURL=onceWithLoopDetection.js.map